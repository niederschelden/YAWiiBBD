<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Essential Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">Yet another Wii Balance Board Driver</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Essential Functions</div></div>
</div><!--header-->
<div class="contents">

<p>Core functions necessary for basic interaction with the Wii Balance Board.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae475fce3cc47a9f2e1fcb1efafbb7aed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__EssentialFunctions.html#gae475fce3cc47a9f2e1fcb1efafbb7aed">find_wii_balance_board</a> (<a class="el" href="structWiiBalanceBoard.html">WiiBalanceBoard</a> *board)</td></tr>
<tr class="memdesc:gae475fce3cc47a9f2e1fcb1efafbb7aed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the Wii Balance Board by scanning nearby Bluetooth devices.  <a href="group__EssentialFunctions.html#gae475fce3cc47a9f2e1fcb1efafbb7aed">More...</a><br /></td></tr>
<tr class="separator:gae475fce3cc47a9f2e1fcb1efafbb7aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ac7ea94309bcc68a18c1a6559389e54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__EssentialFunctions.html#ga3ac7ea94309bcc68a18c1a6559389e54">send_command</a> (int sock, const unsigned char *command, int length)</td></tr>
<tr class="memdesc:ga3ac7ea94309bcc68a18c1a6559389e54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a command to the Wii Balance Board over the control socket.  <a href="group__EssentialFunctions.html#ga3ac7ea94309bcc68a18c1a6559389e54">More...</a><br /></td></tr>
<tr class="separator:ga3ac7ea94309bcc68a18c1a6559389e54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac548fb87e985634984dabe7ba4774b09"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__EssentialFunctions.html#gac548fb87e985634984dabe7ba4774b09">connect_l2cap</a> (const char *bdaddr_str, uint16_t psm)</td></tr>
<tr class="memdesc:gac548fb87e985634984dabe7ba4774b09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establishes a L2CAP connection with the Wii Balance Board.  <a href="group__EssentialFunctions.html#gac548fb87e985634984dabe7ba4774b09">More...</a><br /></td></tr>
<tr class="separator:gac548fb87e985634984dabe7ba4774b09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Core functions necessary for basic interaction with the Wii Balance Board. </p>
<p >This group includes the primary functions needed to find, connect, and send commands to the Wii Balance Board. These functions form the foundation of the YAWiiBB project and enable essential Bluetooth communication and control. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac548fb87e985634984dabe7ba4774b09" name="gac548fb87e985634984dabe7ba4774b09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac548fb87e985634984dabe7ba4774b09">&#9670;&nbsp;</a></span>connect_l2cap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int connect_l2cap </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bdaddr_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>psm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establishes a L2CAP connection with the Wii Balance Board. </p>
<p >This function creates an L2CAP Bluetooth socket and connects to the specified service (PSM) on the Wii Balance Board using its MAC address. It returns the socket descriptor or exits on failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bdaddr_str</td><td>Constant character string representing the Bluetooth MAC address. </td></tr>
    <tr><td class="paramname">psm</td><td>Integer specifying the Protocol/Service Multiplexer (PSM) channel. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Socket descriptor on success, exits program on failure. </dd></dl>

</div>
</div>
<a id="gae475fce3cc47a9f2e1fcb1efafbb7aed" name="gae475fce3cc47a9f2e1fcb1efafbb7aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae475fce3cc47a9f2e1fcb1efafbb7aed">&#9670;&nbsp;</a></span>find_wii_balance_board()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int find_wii_balance_board </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structWiiBalanceBoard.html">WiiBalanceBoard</a> *&#160;</td>
          <td class="paramname"><em>board</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the Wii Balance Board by scanning nearby Bluetooth devices. </p>
<p >Requires the device to be in pairing mode and not jet paired</p>
<p >This function scans for Bluetooth devices in the area and identifies the Wii Balance Board based on its specific name. If found, the boardâ€™s MAC address is stored directly in the <code>board</code> structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">board</td><td>Pointer to <a class="el" href="structWiiBalanceBoard.html" title="Represents the Wii Balance Board connection and status.">WiiBalanceBoard</a> structure where the MAC address is stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success (board found), -1 if not found. </dd></dl>

</div>
</div>
<a id="ga3ac7ea94309bcc68a18c1a6559389e54" name="ga3ac7ea94309bcc68a18c1a6559389e54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ac7ea94309bcc68a18c1a6559389e54">&#9670;&nbsp;</a></span>send_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_command </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a command to the Wii Balance Board over the control socket. </p>
<p >This function transmits a command to the board using the specified socket. If an error occurs, the program will exit with a failure status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Integer control socket descriptor. </td></tr>
    <tr><td class="paramname">command</td><td>Byte array of command data to be sent. </td></tr>
    <tr><td class="paramname">length</td><td>Integer representing the length of the command array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
