<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Essential Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project<span id="projectnumber">&#160;1</span>
   </div>
   <div id="projectbrief">Yet another Wii Balance Board Driver</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Essential Functions</div></div>
</div><!--header-->
<div class="contents">

<p>Core functions necessary for basic interaction with the Wii Balance Board.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga30bba7053a54749bc3fae2ccbe8a49c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__EssentialFunctions.html#ga30bba7053a54749bc3fae2ccbe8a49c2">print_info</a> (const <a class="el" href="YAWiiBBessentials_8h.html#aca1fd1d8935433e6ba2e3918214e07f9">LogLevel</a> *is_debug_level, const char *message, const unsigned char *<a class="el" href="YAWiiBBessentials_8h.html#acab2203504e72e5e674d3174e0bd7d5e">buffer</a>, int length, const <a class="el" href="structWiiBalanceBoard.html">WiiBalanceBoard</a> *board)</td></tr>
<tr class="memdesc:ga30bba7053a54749bc3fae2ccbe8a49c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs messages with different verbosity levels, providing diagnostics and raw data output.  <a href="group__EssentialFunctions.html#ga30bba7053a54749bc3fae2ccbe8a49c2">More...</a><br /></td></tr>
<tr class="separator:ga30bba7053a54749bc3fae2ccbe8a49c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae475fce3cc47a9f2e1fcb1efafbb7aed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__EssentialFunctions.html#gae475fce3cc47a9f2e1fcb1efafbb7aed">find_wii_balance_board</a> (<a class="el" href="structWiiBalanceBoard.html">WiiBalanceBoard</a> *board)</td></tr>
<tr class="memdesc:gae475fce3cc47a9f2e1fcb1efafbb7aed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the Wii Balance Board by scanning nearby Bluetooth devices.  <a href="group__EssentialFunctions.html#gae475fce3cc47a9f2e1fcb1efafbb7aed">More...</a><br /></td></tr>
<tr class="separator:gae475fce3cc47a9f2e1fcb1efafbb7aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ac7ea94309bcc68a18c1a6559389e54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__EssentialFunctions.html#ga3ac7ea94309bcc68a18c1a6559389e54">send_command</a> (int sock, const unsigned char *command, int length)</td></tr>
<tr class="memdesc:ga3ac7ea94309bcc68a18c1a6559389e54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a command to the Wii Balance Board over the control socket.  <a href="group__EssentialFunctions.html#ga3ac7ea94309bcc68a18c1a6559389e54">More...</a><br /></td></tr>
<tr class="separator:ga3ac7ea94309bcc68a18c1a6559389e54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac548fb87e985634984dabe7ba4774b09"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__EssentialFunctions.html#gac548fb87e985634984dabe7ba4774b09">connect_l2cap</a> (const char *bdaddr_str, uint16_t psm)</td></tr>
<tr class="memdesc:gac548fb87e985634984dabe7ba4774b09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establishes a L2CAP connection with the Wii Balance Board.  <a href="group__EssentialFunctions.html#gac548fb87e985634984dabe7ba4774b09">More...</a><br /></td></tr>
<tr class="separator:gac548fb87e985634984dabe7ba4774b09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacc21ad3571d867944d2dab3c0d607f34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__EssentialFunctions.html#gacc21ad3571d867944d2dab3c0d607f34">process_received_data</a> (int bytes_read, unsigned char *<a class="el" href="YAWiiBBessentials_8h.html#acab2203504e72e5e674d3174e0bd7d5e">buffer</a>, <a class="el" href="structWiiBalanceBoard.html">WiiBalanceBoard</a> *board)</td></tr>
<tr class="memdesc:gacc21ad3571d867944d2dab3c0d607f34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes received data from the Wii Balance Board.  <a href="group__EssentialFunctions.html#gacc21ad3571d867944d2dab3c0d607f34">More...</a><br /></td></tr>
<tr class="separator:gacc21ad3571d867944d2dab3c0d607f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8f02da697aa751e5afa01d088b9cacd"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__EssentialFunctions.html#gad8f02da697aa751e5afa01d088b9cacd">threadFunction</a> (void *arg)</td></tr>
<tr class="memdesc:gad8f02da697aa751e5afa01d088b9cacd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread function for monitoring user input to control the Wii Balance Board.  <a href="group__EssentialFunctions.html#gad8f02da697aa751e5afa01d088b9cacd">More...</a><br /></td></tr>
<tr class="separator:gad8f02da697aa751e5afa01d088b9cacd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d83dd00e63f0b712581f04ecd9adfd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__EssentialFunctions.html#ga5d83dd00e63f0b712581f04ecd9adfd4">createThread</a> (<a class="el" href="structWiiBalanceBoard.html">WiiBalanceBoard</a> *board, pthread_t *threadId)</td></tr>
<tr class="memdesc:ga5d83dd00e63f0b712581f04ecd9adfd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new thread and starts the <code>threadFunction</code> to monitor user control.  <a href="group__EssentialFunctions.html#ga5d83dd00e63f0b712581f04ecd9adfd4">More...</a><br /></td></tr>
<tr class="separator:ga5d83dd00e63f0b712581f04ecd9adfd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadcf85a0eb9492992eb2469e5bd3c658a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__EssentialFunctions.html#gadcf85a0eb9492992eb2469e5bd3c658a">is_valid_mac</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:gadcf85a0eb9492992eb2469e5bd3c658a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates a given MAC address for format and content.  <a href="group__EssentialFunctions.html#gadcf85a0eb9492992eb2469e5bd3c658a">More...</a><br /></td></tr>
<tr class="separator:gadcf85a0eb9492992eb2469e5bd3c658a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Core functions necessary for basic interaction with the Wii Balance Board. </p>
<p >This group includes the primary functions needed to find, connect, and send commands to the Wii Balance Board. These functions form the foundation of the YAWiiBBD project and enable essential Bluetooth communication and control. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac548fb87e985634984dabe7ba4774b09" name="gac548fb87e985634984dabe7ba4774b09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac548fb87e985634984dabe7ba4774b09">&#9670;&nbsp;</a></span>connect_l2cap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int connect_l2cap </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bdaddr_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>psm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establishes a L2CAP connection with the Wii Balance Board. </p>
<p >This function creates an L2CAP Bluetooth socket and connects to the specified service (PSM) on the Wii Balance Board using its MAC address. It returns the socket descriptor or exits on failure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bdaddr_str</td><td>Constant character string representing the Bluetooth MAC address. </td></tr>
    <tr><td class="paramname">psm</td><td>Integer specifying the Protocol/Service Multiplexer (PSM) channel. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Socket descriptor on success, exits program on failure. </dd></dl>

</div>
</div>
<a id="ga5d83dd00e63f0b712581f04ecd9adfd4" name="ga5d83dd00e63f0b712581f04ecd9adfd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d83dd00e63f0b712581f04ecd9adfd4">&#9670;&nbsp;</a></span>createThread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void createThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structWiiBalanceBoard.html">WiiBalanceBoard</a> *&#160;</td>
          <td class="paramname"><em>board</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pthread_t *&#160;</td>
          <td class="paramname"><em>threadId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new thread and starts the <code>threadFunction</code> to monitor user control. </p>
<p >This function creates a new thread and instructs it to execute the <code>threadFunction</code>. In case of errors, an error message is displayed, the <code>is_running</code> flag of the Wii Balance Board is set to <code>false</code>, and the program exits with an error code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">board</td><td>Pointer to the <code><a class="el" href="structWiiBalanceBoard.html" title="Represents the Wii Balance Board connection and status.">WiiBalanceBoard</a></code> object monitored by the threadFunction. </td></tr>
    <tr><td class="paramname">threadId</td><td>Pointer to the <code>pthread_t</code> variable where the ID of the new thread will be stored. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae475fce3cc47a9f2e1fcb1efafbb7aed" name="gae475fce3cc47a9f2e1fcb1efafbb7aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae475fce3cc47a9f2e1fcb1efafbb7aed">&#9670;&nbsp;</a></span>find_wii_balance_board()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int find_wii_balance_board </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structWiiBalanceBoard.html">WiiBalanceBoard</a> *&#160;</td>
          <td class="paramname"><em>board</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the Wii Balance Board by scanning nearby Bluetooth devices. </p>
<p >Requires the device to be in pairing mode and not jet paired</p>
<p >This function scans for Bluetooth devices in the area and identifies the Wii Balance Board based on its specific name. If found, the board’s MAC address is stored directly in the <code>board</code> structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">board</td><td>Pointer to <a class="el" href="structWiiBalanceBoard.html" title="Represents the Wii Balance Board connection and status.">WiiBalanceBoard</a> structure where the MAC address is stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success (board found), -1 if not found. </dd></dl>

</div>
</div>
<a id="gadcf85a0eb9492992eb2469e5bd3c658a" name="gadcf85a0eb9492992eb2469e5bd3c658a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadcf85a0eb9492992eb2469e5bd3c658a">&#9670;&nbsp;</a></span>is_valid_mac()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int is_valid_mac </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validates a given MAC address for format and content. </p>
<p >Checks whether a valid MAC address has been passed as a single argument. The address must be exactly 17 characters long and conform to the format <code>XX:XX:XX:XX:XX:XX</code>, where <code>X</code> is a hexadecimal character (<code>0-9</code>, <code>A-F</code>, <code>a-f</code>). The function returns <code>1</code> if the input meets the requirements; otherwise, it returns <code>0</code>.</p>
<p >In case of an invalid format or erroneous inputs, specific error messages are generated to indicate possible causes.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>Number of arguments passed to the program. </td></tr>
    <tr><td class="paramname">argv</td><td>Array of arguments, where the second (<code>argv[1]</code>) should be the MAC address. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>1</code> if the MAC address is valid; otherwise, <code>0</code>. </dd></dl>

</div>
</div>
<a id="ga30bba7053a54749bc3fae2ccbe8a49c2" name="ga30bba7053a54749bc3fae2ccbe8a49c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga30bba7053a54749bc3fae2ccbe8a49c2">&#9670;&nbsp;</a></span>print_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_info </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="YAWiiBBessentials_8h.html#aca1fd1d8935433e6ba2e3918214e07f9">LogLevel</a> *&#160;</td>
          <td class="paramname"><em>is_debug_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structWiiBalanceBoard.html">WiiBalanceBoard</a> *&#160;</td>
          <td class="paramname"><em>board</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Logs messages with different verbosity levels, providing diagnostics and raw data output. </p>
<p >This function outputs messages to the console with optional raw data from the Wii Balance Board. It supports multiple verbosity levels (RAW, DEBUG, and VERBOSE), controlled by the <code>LogLevel</code> enum. The function is essential for debugging and tracking the board's status and output during development.</p>
<p >This function's implementation interacts closely with the Wiimote protocol, pushing the limits of my current understanding of the protocol. Despite attempts to isolate functionality in <code>essentials</code>, it remains a complex function with room for refinement.</p>
<p >Potential areas for improvement include:</p><ul>
<li><b>Consistent use of pointers</b>: Aiming to rely on pointers wherever possible to reduce stack usage and optimize memory management.</li>
<li><b>Modularizing verbosity level handling</b>: Simplifying logic for handling different verbosity levels, potentially through helper functions to make the code more manageable.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>Pointer to a <code>LogLevel</code> enum indicating the verbosity level (RAW, DEBUG, VERBOSE). </td></tr>
    <tr><td class="paramname">message</td><td>Constant character string representing the message to be logged. </td></tr>
    <tr><td class="paramname">buffer</td><td>Optional byte array containing raw data to display if needed. This parameter is processed only when provided (not NULL). </td></tr>
    <tr><td class="paramname">length</td><td>Length of the byte array (ignored if buffer is NULL). </td></tr>
    <tr><td class="paramname">board</td><td>Pointer to the <code><a class="el" href="structWiiBalanceBoard.html" title="Represents the Wii Balance Board connection and status.">WiiBalanceBoard</a></code> structure for accessing board-specific data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gacc21ad3571d867944d2dab3c0d607f34" name="gacc21ad3571d867944d2dab3c0d607f34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacc21ad3571d867944d2dab3c0d607f34">&#9670;&nbsp;</a></span>process_received_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void process_received_data </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bytes_read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structWiiBalanceBoard.html">WiiBalanceBoard</a> *&#160;</td>
          <td class="paramname"><em>board</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes received data from the Wii Balance Board. </p>
<p >This function checks the received data and evaluates it. If a certain condition is met (e.g., the receive code indicates an error), the <code>is_running</code> status is set to <code>false</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bytes_read</td><td>Number of bytes read in the <code>buffer</code>. </td></tr>
    <tr><td class="paramname">buffer</td><td>Buffer containing the received data. </td></tr>
    <tr><td class="paramname">board</td><td>Pointer to the <a class="el" href="structWiiBalanceBoard.html" title="Represents the Wii Balance Board connection and status.">WiiBalanceBoard</a> structure that holds the current status. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3ac7ea94309bcc68a18c1a6559389e54" name="ga3ac7ea94309bcc68a18c1a6559389e54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ac7ea94309bcc68a18c1a6559389e54">&#9670;&nbsp;</a></span>send_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void send_command </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a command to the Wii Balance Board over the control socket. </p>
<p >This function transmits a command to the board using the specified socket. If an error occurs, the program will exit with a failure status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>Integer control socket descriptor. </td></tr>
    <tr><td class="paramname">command</td><td>Byte array of command data to be sent. </td></tr>
    <tr><td class="paramname">length</td><td>Integer representing the length of the command array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad8f02da697aa751e5afa01d088b9cacd" name="gad8f02da697aa751e5afa01d088b9cacd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad8f02da697aa751e5afa01d088b9cacd">&#9670;&nbsp;</a></span>threadFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * threadFunction </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thread function for monitoring user input to control the Wii Balance Board. </p>
<p >Waits for user input via the console or the power button of the board. If the user presses the button or the enter key without additional characters, the function sets the <code>is_running</code> flag of the <code><a class="el" href="structWiiBalanceBoard.html" title="Represents the Wii Balance Board connection and status.">WiiBalanceBoard</a></code> object to <code>false</code> and exits the thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg</td><td>A void pointer to the <code><a class="el" href="structWiiBalanceBoard.html" title="Represents the Wii Balance Board connection and status.">WiiBalanceBoard</a></code> object passed to the function and called at runtime to change the status. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Always <code>NULL</code> – indicates that the thread has terminated. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
