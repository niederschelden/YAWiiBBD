\hypertarget{YAWiiBBessentials_8c}{}\doxysection{src/\+YAWii\+BBessentials.c File Reference}
\label{YAWiiBBessentials_8c}\index{src/YAWiiBBessentials.c@{src/YAWiiBBessentials.c}}
{\ttfamily \#include \char`\"{}YAWii\+BBessentials.\+h\char`\"{}}\newline
Include dependency graph for YAWii\+BBessentials.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{YAWiiBBessentials_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{YAWiiBBessentials_8c_a30bba7053a54749bc3fae2ccbe8a49c2}{print\+\_\+info}} (const \mbox{\hyperlink{YAWiiBBessentials_8h_aca1fd1d8935433e6ba2e3918214e07f9}{Log\+Level}} $\ast$is\+\_\+debug\+\_\+level, const char $\ast$message, const unsigned char $\ast$\mbox{\hyperlink{YAWiiBBessentials_8h_acab2203504e72e5e674d3174e0bd7d5e}{buffer}}, int length, const \mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$board)
\begin{DoxyCompactList}\small\item\em Logs messages with different verbosity levels. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{YAWiiBBessentials_8c_ae475fce3cc47a9f2e1fcb1efafbb7aed}{find\+\_\+wii\+\_\+balance\+\_\+board}} (\mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$board)
\begin{DoxyCompactList}\small\item\em Finds the Wii Balance Board by scanning nearby Bluetooth devices. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{YAWiiBBessentials_8c_a3ac7ea94309bcc68a18c1a6559389e54}{send\+\_\+command}} (int sock, const unsigned char $\ast$command, int length)
\begin{DoxyCompactList}\small\item\em Sends a command to the Wii Balance Board over the control socket. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{YAWiiBBessentials_8c_ac548fb87e985634984dabe7ba4774b09}{connect\+\_\+l2cap}} (const char $\ast$bdaddr\+\_\+str, uint16\+\_\+t psm)
\begin{DoxyCompactList}\small\item\em Establishes a L2\+CAP connection with the Wii Balance Board. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{YAWiiBBessentials_8c_ad059069d8a9991634ede9effc149edee}{handle\+\_\+status}} (\mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$board)
\begin{DoxyCompactList}\small\item\em Verarbeitet das Senden eines Status-\/\+Kommandos an das Wii Balance Board. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{YAWiiBBessentials_8c_ab8232c599a51c7ab97c274d3e77b5f44}{handle\+\_\+calibration}} (\mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$board)
\begin{DoxyCompactList}\small\item\em Verarbeitet das Senden eines Kalibrierungs-\/\+Kommandos an das Wii Balance Board. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{YAWiiBBessentials_8c_a5868e6594d3f3d196617b6213281efda}{handle\+\_\+led\+\_\+on}} (\mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$board)
\begin{DoxyCompactList}\small\item\em Verarbeitet das Senden eines LED-\/\+Anschalt-\/\+Kommandos an das Wii Balance Board. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{YAWiiBBessentials_8c_a07bfbd5600af37648e85f66c773e3f64}{handle\+\_\+activation}} (\mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$board)
\begin{DoxyCompactList}\small\item\em Verarbeitet das Senden eines Aktivierungs-\/\+Kommandos an das Wii Balance Board. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{YAWiiBBessentials_8c_ab2e0cc68839171efaa32567b1755ec78}{handle\+\_\+data\+\_\+dump}} (\mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$board)
\begin{DoxyCompactList}\small\item\em Verarbeitet das Senden eines Daten-\/\+Dump-\/\+Kommandos an das Wii Balance Board. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{YAWiiBBessentials_8c_acc21ad3571d867944d2dab3c0d607f34}{process\+\_\+received\+\_\+data}} (int bytes\+\_\+read, unsigned char $\ast$\mbox{\hyperlink{YAWiiBBessentials_8h_acab2203504e72e5e674d3174e0bd7d5e}{buffer}}, \mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$board)
\begin{DoxyCompactList}\small\item\em Verarbeitet empfangene Daten vom Wii Balance Board. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{YAWiiBBessentials_8c_ad302657f1801e9590f4a7f454818b734}{bytes\+\_\+to\+\_\+int\+\_\+big\+\_\+endian}} (const unsigned char $\ast$\mbox{\hyperlink{YAWiiBBessentials_8h_acab2203504e72e5e674d3174e0bd7d5e}{buffer}}, size\+\_\+t position, int $\ast$max)
\begin{DoxyCompactList}\small\item\em Konvertiert zwei aufeinanderfolgende Bytes im Buffer aus Big-\/\+Endian-\/\+Darstellung in eine dezimale Ganzzahl. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{YAWiiBBessentials_8c_a8a70b74d08e64dcfd5a6b1e289e2ef08}{process\+\_\+calibration\+\_\+data}} (int $\ast$bytes\+\_\+read, unsigned char $\ast$\mbox{\hyperlink{YAWiiBBessentials_8h_acab2203504e72e5e674d3174e0bd7d5e}{buffer}}, \mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$board)
\begin{DoxyCompactList}\small\item\em Verarbeitet die Kalibrierungsdaten vom Wii Balance Board. \end{DoxyCompactList}\item 
uint16\+\_\+t \mbox{\hyperlink{YAWiiBBessentials_8c_a05333867b38c4e18d7af195b85ac4480}{calc\+\_\+mass}} (const \mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$board, uint16\+\_\+t raw, int pos)
\begin{DoxyCompactList}\small\item\em Berechnet das Gewicht in Gramm aus den Rohdaten des Wii Balance Boards. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const unsigned char \mbox{\hyperlink{YAWiiBBessentials_8c_a57079d2070001acbc11e3a1dc3ee255c}{status\+\_\+command}} \mbox{[}$\,$\mbox{]} = \{ 0x52, 0x12, 0x00, 0x32 \}
\item 
const unsigned char \mbox{\hyperlink{YAWiiBBessentials_8c_afd076d37be1f030cbfd83fcf7a8cab86}{activate\+\_\+command}} \mbox{[}$\,$\mbox{]} = \{ 0x52, 0x13, 0x04 \}
\item 
const unsigned char \mbox{\hyperlink{YAWiiBBessentials_8c_ad412e3af0e38003eaf4fff9bac90bb86}{calibration\+\_\+command}} \mbox{[}$\,$\mbox{]} = \{ 0x52, 0x17, 0x04, 0xa4, 0x00, 0x24, 0x00, 0x18 \}
\item 
const unsigned char \mbox{\hyperlink{YAWiiBBessentials_8c_ad889214dc2e72a03ba24c7beb22d3f07}{led\+\_\+on\+\_\+command}} \mbox{[}$\,$\mbox{]} = \{ 0x52, 0x11, 0x10 \}
\item 
const unsigned char \mbox{\hyperlink{YAWiiBBessentials_8c_af0ff0f5bc26f47a860da6ff1c7a1f09d}{data\+\_\+dump\+\_\+command}} \mbox{[}$\,$\mbox{]} = \{ 0x52, 0x15, 0x00, 0x32 \}
\item 
unsigned char \mbox{\hyperlink{YAWiiBBessentials_8c_acab2203504e72e5e674d3174e0bd7d5e}{buffer}} \mbox{[}\mbox{\hyperlink{YAWiiBBessentials_8h_a6b20d41d6252e9871430c242cb1a56e7}{BUFFER\+\_\+\+SIZE}}\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{YAWiiBBessentials_8c_ad302657f1801e9590f4a7f454818b734}\label{YAWiiBBessentials_8c_ad302657f1801e9590f4a7f454818b734}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!bytes\_to\_int\_big\_endian@{bytes\_to\_int\_big\_endian}}
\index{bytes\_to\_int\_big\_endian@{bytes\_to\_int\_big\_endian}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{bytes\_to\_int\_big\_endian()}{bytes\_to\_int\_big\_endian()}}
{\footnotesize\ttfamily uint16\+\_\+t bytes\+\_\+to\+\_\+int\+\_\+big\+\_\+endian (\begin{DoxyParamCaption}\item[{const unsigned char $\ast$}]{buffer,  }\item[{size\+\_\+t}]{position,  }\item[{int $\ast$}]{max }\end{DoxyParamCaption})}



Konvertiert zwei aufeinanderfolgende Bytes im Buffer aus Big-\/\+Endian-\/\+Darstellung in eine dezimale Ganzzahl. 

Interpretiert zwei Bytes im angegebenen {\ttfamily buffer} ab der übergebenen {\ttfamily position} als eine 16-\/Bit-\/\+Ganzzahl im Big-\/\+Endian-\/\+Format (höherwertiges Byte zuerst). Die Funktion gibt diese Ganzzahl zurück, sodass sie in dezimaler Form ausgegeben werden kann.


\begin{DoxyParams}{Parameters}
{\em buffer} & Zeiger auf den Buffer, der die Bytes enthält. \\
\hline
{\em position} & Die Startposition des höherwertigen Bytes im Buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
uint16\+\_\+t Die als dezimale Ganzzahl interpretierte Big-\/\+Endian-\/\+Zahl. 
\end{DoxyReturn}
\mbox{\Hypertarget{YAWiiBBessentials_8c_a05333867b38c4e18d7af195b85ac4480}\label{YAWiiBBessentials_8c_a05333867b38c4e18d7af195b85ac4480}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!calc\_mass@{calc\_mass}}
\index{calc\_mass@{calc\_mass}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{calc\_mass()}{calc\_mass()}}
{\footnotesize\ttfamily uint16\+\_\+t calc\+\_\+mass (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$}]{board,  }\item[{uint16\+\_\+t}]{raw,  }\item[{int}]{pos }\end{DoxyParamCaption})}



Berechnet das Gewicht in Gramm aus den Rohdaten des Wii Balance Boards. 

Diese Funktion nutzt Kalibrierungsdaten des Wii Balance Boards, um basierend auf den gegebenen Rohdaten ein Gewicht in Gramm zu berechnen. Das Gewicht wird innerhalb von vier Kalibrierungsbereichen interpoliert oder, wenn der Wert über dem höchsten Kalibrierungsbereich liegt, linear extrapoliert.


\begin{DoxyParams}{Parameters}
{\em board} & Ein konstanter Zeiger auf die Struktur des Wii Balance Boards, die die Kalibrierungsdaten enthält. \\
\hline
{\em raw} & Der Rohdatenwert, der das Gewicht repräsentiert, gemessen von einer der vier Sensorpositionen (Top-\/\+Right, Bottom-\/\+Right, etc.). \\
\hline
{\em pos} & Die Position des Sensors (0 bis 3) für die Kalibrierungsdaten des Rohwerts. Muss im Bereich \mbox{[}0, 3\mbox{]} liegen.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Das berechnete Gewicht in Gramm als {\ttfamily uint16\+\_\+t}.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
Die Funktion kann bis zu einem Gewicht von 34 kg mit den gegebenen Kalibrierungswerten interpolieren. Für Werte über diesem Bereich wird das Gewicht linear extrapoliert.
\end{DoxyNote}
Die Berechnung verwendet vier Fälle basierend auf den Rohdaten\+:
\begin{DoxyItemize}
\item Wenn der Rohwert kleiner als die Kalibrierung für 0 kg ist, wird 0 g zurückgegeben.
\item Liegt der Rohwert zwischen den Kalibrierungen für 0 kg und 17 kg, erfolgt eine lineare Interpolation zwischen diesen Punkten.
\item Liegt der Rohwert zwischen den Kalibrierungen für 17 kg und 34 kg, erfolgt eine Interpolation innerhalb dieses Bereichs.
\item Wenn der Rohwert größer oder gleich der Kalibrierung für 34 kg ist, wird eine lineare Extrapolation basierend auf dem letzten Bereich vorgenommen. 
\end{DoxyItemize}\mbox{\Hypertarget{YAWiiBBessentials_8c_ac548fb87e985634984dabe7ba4774b09}\label{YAWiiBBessentials_8c_ac548fb87e985634984dabe7ba4774b09}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!connect\_l2cap@{connect\_l2cap}}
\index{connect\_l2cap@{connect\_l2cap}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{connect\_l2cap()}{connect\_l2cap()}}
{\footnotesize\ttfamily int connect\+\_\+l2cap (\begin{DoxyParamCaption}\item[{const char $\ast$}]{bdaddr\+\_\+str,  }\item[{uint16\+\_\+t}]{psm }\end{DoxyParamCaption})}



Establishes a L2\+CAP connection with the Wii Balance Board. 

This function creates an L2\+CAP Bluetooth socket and connects to the specified service (PSM) on the Wii Balance Board using its MAC address. It returns the socket descriptor or exits on failure.


\begin{DoxyParams}{Parameters}
{\em bdaddr\+\_\+str} & Constant character string representing the Bluetooth MAC address. \\
\hline
{\em psm} & Integer specifying the Protocol/\+Service Multiplexer (PSM) channel. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Socket descriptor on success, exits program on failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{YAWiiBBessentials_8c_ae475fce3cc47a9f2e1fcb1efafbb7aed}\label{YAWiiBBessentials_8c_ae475fce3cc47a9f2e1fcb1efafbb7aed}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!find\_wii\_balance\_board@{find\_wii\_balance\_board}}
\index{find\_wii\_balance\_board@{find\_wii\_balance\_board}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{find\_wii\_balance\_board()}{find\_wii\_balance\_board()}}
{\footnotesize\ttfamily int find\+\_\+wii\+\_\+balance\+\_\+board (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$}]{board }\end{DoxyParamCaption})}



Finds the Wii Balance Board by scanning nearby Bluetooth devices. 

This function scans for Bluetooth devices in the area and identifies the Wii Balance Board based on its specific name. If found, the board’s MAC address is stored directly in the {\ttfamily board} structure.


\begin{DoxyParams}{Parameters}
{\em board} & Pointer to \mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} structure where the MAC address is stored. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success (board found), -\/1 if not found. 
\end{DoxyReturn}
\mbox{\Hypertarget{YAWiiBBessentials_8c_a07bfbd5600af37648e85f66c773e3f64}\label{YAWiiBBessentials_8c_a07bfbd5600af37648e85f66c773e3f64}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!handle\_activation@{handle\_activation}}
\index{handle\_activation@{handle\_activation}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{handle\_activation()}{handle\_activation()}}
{\footnotesize\ttfamily void handle\+\_\+activation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$}]{board }\end{DoxyParamCaption})}



Verarbeitet das Senden eines Aktivierungs-\/\+Kommandos an das Wii Balance Board. 

Diese Funktion wird aufgerufen, wenn das Flag {\ttfamily need\+Activation} gesetzt ist, und schickt den entsprechenden Aktivierungs-\/\+Befehl an das Board.


\begin{DoxyParams}{Parameters}
{\em board} & Pointer zur Wii\+Balance\+Board-\/\+Struktur, die den aktuellen Status hält. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{YAWiiBBessentials_8c_ab8232c599a51c7ab97c274d3e77b5f44}\label{YAWiiBBessentials_8c_ab8232c599a51c7ab97c274d3e77b5f44}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!handle\_calibration@{handle\_calibration}}
\index{handle\_calibration@{handle\_calibration}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{handle\_calibration()}{handle\_calibration()}}
{\footnotesize\ttfamily void handle\+\_\+calibration (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$}]{board }\end{DoxyParamCaption})}



Verarbeitet das Senden eines Kalibrierungs-\/\+Kommandos an das Wii Balance Board. 

Diese Funktion wird aufgerufen, wenn das Flag {\ttfamily need\+Calibration} gesetzt ist, und schickt den entsprechenden Kalibrierungs-\/\+Befehl an das Board.


\begin{DoxyParams}{Parameters}
{\em board} & Pointer zur Wii\+Balance\+Board-\/\+Struktur, die den aktuellen Status hält. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{YAWiiBBessentials_8c_ab2e0cc68839171efaa32567b1755ec78}\label{YAWiiBBessentials_8c_ab2e0cc68839171efaa32567b1755ec78}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!handle\_data\_dump@{handle\_data\_dump}}
\index{handle\_data\_dump@{handle\_data\_dump}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{handle\_data\_dump()}{handle\_data\_dump()}}
{\footnotesize\ttfamily void handle\+\_\+data\+\_\+dump (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$}]{board }\end{DoxyParamCaption})}



Verarbeitet das Senden eines Daten-\/\+Dump-\/\+Kommandos an das Wii Balance Board. 

Diese Funktion wird aufgerufen, wenn das Flag {\ttfamily need\+Dump\+Start} gesetzt ist, und startet das kontinuierliche Übertragen der Board-\/\+Daten.


\begin{DoxyParams}{Parameters}
{\em board} & Pointer zur Wii\+Balance\+Board-\/\+Struktur, die den aktuellen Status hält. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{YAWiiBBessentials_8c_a5868e6594d3f3d196617b6213281efda}\label{YAWiiBBessentials_8c_a5868e6594d3f3d196617b6213281efda}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!handle\_led\_on@{handle\_led\_on}}
\index{handle\_led\_on@{handle\_led\_on}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{handle\_led\_on()}{handle\_led\_on()}}
{\footnotesize\ttfamily void handle\+\_\+led\+\_\+on (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$}]{board }\end{DoxyParamCaption})}



Verarbeitet das Senden eines LED-\/\+Anschalt-\/\+Kommandos an das Wii Balance Board. 

Diese Funktion wird aufgerufen, wenn das LED-\/\+Flag {\ttfamily led} noch nicht gesetzt ist, und schaltet die LED des Boards ein.


\begin{DoxyParams}{Parameters}
{\em board} & Pointer zur Wii\+Balance\+Board-\/\+Struktur, die den aktuellen Status hält. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{YAWiiBBessentials_8c_ad059069d8a9991634ede9effc149edee}\label{YAWiiBBessentials_8c_ad059069d8a9991634ede9effc149edee}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!handle\_status@{handle\_status}}
\index{handle\_status@{handle\_status}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{handle\_status()}{handle\_status()}}
{\footnotesize\ttfamily void handle\+\_\+status (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$}]{board }\end{DoxyParamCaption})}



Verarbeitet das Senden eines Status-\/\+Kommandos an das Wii Balance Board. 

Diese Funktion wird aufgerufen, wenn das Flag {\ttfamily need\+Status} gesetzt ist, und schickt den entsprechenden Status-\/\+Befehl an das Board.


\begin{DoxyParams}{Parameters}
{\em board} & Pointer zur Wii\+Balance\+Board-\/\+Struktur, die den aktuellen Status hält. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{YAWiiBBessentials_8c_a30bba7053a54749bc3fae2ccbe8a49c2}\label{YAWiiBBessentials_8c_a30bba7053a54749bc3fae2ccbe8a49c2}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!print\_info@{print\_info}}
\index{print\_info@{print\_info}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{print\_info()}{print\_info()}}
{\footnotesize\ttfamily void print\+\_\+info (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{YAWiiBBessentials_8h_aca1fd1d8935433e6ba2e3918214e07f9}{Log\+Level}} $\ast$}]{is\+\_\+debug\+\_\+level,  }\item[{const char $\ast$}]{message,  }\item[{const unsigned char $\ast$}]{buffer,  }\item[{int}]{length,  }\item[{const \mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$}]{board }\end{DoxyParamCaption})}



Logs messages with different verbosity levels. 

This function displays messages to the console with an optional buffer, allowing selection of verbosity levels\+: RAW, DEBUG, or VERBOSE.


\begin{DoxyParams}{Parameters}
{\em level} & Log\+Level enum indicating the verbosity level. \\
\hline
{\em message} & Constant character string message to be logged. \\
\hline
{\em buffer} & Optional byte array to display raw data if provided. \\
\hline
{\em length} & Length of the byte array (ignored if buffer is NULL). \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{YAWiiBBessentials_8c_a8a70b74d08e64dcfd5a6b1e289e2ef08}\label{YAWiiBBessentials_8c_a8a70b74d08e64dcfd5a6b1e289e2ef08}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!process\_calibration\_data@{process\_calibration\_data}}
\index{process\_calibration\_data@{process\_calibration\_data}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{process\_calibration\_data()}{process\_calibration\_data()}}
{\footnotesize\ttfamily void process\+\_\+calibration\+\_\+data (\begin{DoxyParamCaption}\item[{int $\ast$}]{bytes\+\_\+read,  }\item[{unsigned char $\ast$}]{buffer,  }\item[{\mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$}]{board }\end{DoxyParamCaption})}



Verarbeitet die Kalibrierungsdaten vom Wii Balance Board. 

Diese Funktion analysiert einen Datenpuffer mit Kalibrierungsinformationen und extrahiert diese in das Kalibrierungsarray der übergebenen {\ttfamily \mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}}}-\/Instanz. Die Kalibrierungsdaten sind 16-\/Bit-\/\+Werte, die in einem Big-\/\+Endian-\/\+Format gespeichert werden und aus 4 Paaren für jede der vier Ecken bestehen (topright, topleft, bottomright, bottomleft).


\begin{DoxyParams}{Parameters}
{\em bytes\+\_\+read} & Anzahl der tatsächlich gelesenen Bytes im Puffer. \\
\hline
{\em buffer} & Zeiger auf einen Puffer mit den empfangenen Bytes. Die erwartete Struktur ist\+:
\begin{DoxyItemize}
\item Bytes 7-\/14\+: Kalibrierungssatz 0 (4 Paare, 8 Bytes)
\item Bytes 15-\/22\+: Kalibrierungssatz 1 (4 Paare, 8 Bytes)
\item Wenn Byte 15 == 0x00\+:
\begin{DoxyItemize}
\item Bytes 7-\/14\+: Kalibrierungssatz 2 (4 Paare, 8 Bytes) 
\end{DoxyItemize}
\end{DoxyItemize}\\
\hline
{\em board} & Zeiger auf eine Instanz von {\ttfamily \mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}}}, in die die Kalibrierungsdaten gespeichert werden.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Diese Funktion geht davon aus, dass der {\ttfamily buffer} mindestens 23 Bytes enthält, um die erwarteten Kalibrierungsdaten verarbeiten zu können.
\end{DoxyNote}
Der Ablauf der Funktion ist wie folgt\+:
\begin{DoxyEnumerate}
\item Überprüfung, ob das zweite Kalibrierungspaket empfangen wurde (Byte 15 == 0x00).
\item Wenn das zweite Paket nicht vorhanden ist\+:
\begin{DoxyItemize}
\item Bytes 7-\/14 werden in {\ttfamily calibration\mbox{[}0\mbox{]}} gespeichert (Kalibrierungssatz 0).
\item Bytes 15-\/22 werden in {\ttfamily calibration\mbox{[}1\mbox{]}} gespeichert (Kalibrierungssatz 1).
\end{DoxyItemize}
\item Wenn das zweite Paket vorhanden ist\+:
\begin{DoxyItemize}
\item Bytes 7-\/14 werden in {\ttfamily calibration\mbox{[}2\mbox{]}} gespeichert (Kalibrierungssatz 2).
\end{DoxyItemize}
\end{DoxyEnumerate}

Beispiel\+:
\begin{DoxyItemize}
\item Empfangene Daten könnten folgendes enthalten\+:
\begin{DoxyItemize}
\item buffer\mbox{[}7\mbox{]} = 0x01, buffer\mbox{[}8\mbox{]} = 0x02 (Kalibrierung 0, Paar 0)
\item buffer\mbox{[}15\mbox{]} = 0x00 (zeigt an, dass das zweite Paket nicht empfangen wurde)
\end{DoxyItemize}

In diesem Fall würde die Funktion die Werte in {\ttfamily board-\/\texorpdfstring{$>$}{>}calibration\mbox{[}0\mbox{]}} und {\ttfamily board-\/\texorpdfstring{$>$}{>}calibration\mbox{[}2\mbox{]}} speichern. 
\end{DoxyItemize}\mbox{\Hypertarget{YAWiiBBessentials_8c_acc21ad3571d867944d2dab3c0d607f34}\label{YAWiiBBessentials_8c_acc21ad3571d867944d2dab3c0d607f34}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!process\_received\_data@{process\_received\_data}}
\index{process\_received\_data@{process\_received\_data}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{process\_received\_data()}{process\_received\_data()}}
{\footnotesize\ttfamily void process\+\_\+received\+\_\+data (\begin{DoxyParamCaption}\item[{int}]{bytes\+\_\+read,  }\item[{unsigned char $\ast$}]{buffer,  }\item[{\mbox{\hyperlink{structWiiBalanceBoard}{Wii\+Balance\+Board}} $\ast$}]{board }\end{DoxyParamCaption})}



Verarbeitet empfangene Daten vom Wii Balance Board. 

Diese Funktion überprüft die empfangenen Daten und wertet sie aus. Falls eine bestimmte Bedingung erfüllt ist (z.\+B. der Empfangscode zeigt einen Fehler), wird der {\ttfamily is\+\_\+running}-\/Status auf {\ttfamily false} gesetzt.


\begin{DoxyParams}{Parameters}
{\em bytes\+\_\+read} & Anzahl der gelesenen Bytes im {\ttfamily buffer}. \\
\hline
{\em buffer} & Buffer, der die empfangenen Daten enthält. \\
\hline
{\em board} & Pointer zur Wii\+Balance\+Board-\/\+Struktur, die den aktuellen Status hält. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{YAWiiBBessentials_8c_a3ac7ea94309bcc68a18c1a6559389e54}\label{YAWiiBBessentials_8c_a3ac7ea94309bcc68a18c1a6559389e54}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!send\_command@{send\_command}}
\index{send\_command@{send\_command}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{send\_command()}{send\_command()}}
{\footnotesize\ttfamily void send\+\_\+command (\begin{DoxyParamCaption}\item[{int}]{sock,  }\item[{const unsigned char $\ast$}]{command,  }\item[{int}]{length }\end{DoxyParamCaption})}



Sends a command to the Wii Balance Board over the control socket. 

This function transmits a command to the board using the specified socket. If an error occurs, the program will exit with a failure status.


\begin{DoxyParams}{Parameters}
{\em sock} & Integer control socket descriptor. \\
\hline
{\em command} & Byte array of command data to be sent. \\
\hline
{\em length} & Integer representing the length of the command array. \\
\hline
\end{DoxyParams}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{YAWiiBBessentials_8c_afd076d37be1f030cbfd83fcf7a8cab86}\label{YAWiiBBessentials_8c_afd076d37be1f030cbfd83fcf7a8cab86}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!activate\_command@{activate\_command}}
\index{activate\_command@{activate\_command}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{activate\_command}{activate\_command}}
{\footnotesize\ttfamily const unsigned char activate\+\_\+command\mbox{[}$\,$\mbox{]} = \{ 0x52, 0x13, 0x04 \}}

\mbox{\Hypertarget{YAWiiBBessentials_8c_acab2203504e72e5e674d3174e0bd7d5e}\label{YAWiiBBessentials_8c_acab2203504e72e5e674d3174e0bd7d5e}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!buffer@{buffer}}
\index{buffer@{buffer}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{buffer}{buffer}}
{\footnotesize\ttfamily unsigned char buffer\mbox{[}\mbox{\hyperlink{YAWiiBBessentials_8h_a6b20d41d6252e9871430c242cb1a56e7}{BUFFER\+\_\+\+SIZE}}\mbox{]}}

\mbox{\Hypertarget{YAWiiBBessentials_8c_ad412e3af0e38003eaf4fff9bac90bb86}\label{YAWiiBBessentials_8c_ad412e3af0e38003eaf4fff9bac90bb86}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!calibration\_command@{calibration\_command}}
\index{calibration\_command@{calibration\_command}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{calibration\_command}{calibration\_command}}
{\footnotesize\ttfamily const unsigned char calibration\+\_\+command\mbox{[}$\,$\mbox{]} = \{ 0x52, 0x17, 0x04, 0xa4, 0x00, 0x24, 0x00, 0x18 \}}

\mbox{\Hypertarget{YAWiiBBessentials_8c_af0ff0f5bc26f47a860da6ff1c7a1f09d}\label{YAWiiBBessentials_8c_af0ff0f5bc26f47a860da6ff1c7a1f09d}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!data\_dump\_command@{data\_dump\_command}}
\index{data\_dump\_command@{data\_dump\_command}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{data\_dump\_command}{data\_dump\_command}}
{\footnotesize\ttfamily const unsigned char data\+\_\+dump\+\_\+command\mbox{[}$\,$\mbox{]} = \{ 0x52, 0x15, 0x00, 0x32 \}}

\mbox{\Hypertarget{YAWiiBBessentials_8c_ad889214dc2e72a03ba24c7beb22d3f07}\label{YAWiiBBessentials_8c_ad889214dc2e72a03ba24c7beb22d3f07}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!led\_on\_command@{led\_on\_command}}
\index{led\_on\_command@{led\_on\_command}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{led\_on\_command}{led\_on\_command}}
{\footnotesize\ttfamily const unsigned char led\+\_\+on\+\_\+command\mbox{[}$\,$\mbox{]} = \{ 0x52, 0x11, 0x10 \}}

\mbox{\Hypertarget{YAWiiBBessentials_8c_a57079d2070001acbc11e3a1dc3ee255c}\label{YAWiiBBessentials_8c_a57079d2070001acbc11e3a1dc3ee255c}} 
\index{YAWiiBBessentials.c@{YAWiiBBessentials.c}!status\_command@{status\_command}}
\index{status\_command@{status\_command}!YAWiiBBessentials.c@{YAWiiBBessentials.c}}
\doxysubsubsection{\texorpdfstring{status\_command}{status\_command}}
{\footnotesize\ttfamily const unsigned char status\+\_\+command\mbox{[}$\,$\mbox{]} = \{ 0x52, 0x12, 0x00, 0x32 \}}

